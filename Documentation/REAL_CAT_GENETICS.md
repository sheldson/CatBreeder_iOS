# 🧬 真实猫咪遗传学系统说明

## 📚 科学背景

本游戏基于真实的猫咪遗传学原理，主要涉及两个关键基因系统：

### 1. O基因（橙色基因）- 性连锁基因
- **位置**：X染色体上
- **功能**：控制褐黑色素（pheomelanin）的产生
- **特点**：
  - O（显性）= 产生橙色/红色
  - o（隐性）= 不产生橙色（显示其他颜色）
  - 公猫只有一条X染色体，所以要么是橙色要么不是
  - 母猫有两条X染色体，可以是OO（纯橙）、Oo（玳瑁）、oo（非橙）

### 2. B基因（黑色基因）- 常染色体基因
- **位置**：常染色体上
- **功能**：控制真黑色素（eumelanin）的氧化程度
- **等位基因**：
  - **B（显性）** = 正常黑色素 → 黑色
  - **b（隐性）** = 部分氧化的黑色素 → 巧克力色
  - **b'（更隐性）** = 完全氧化的黑色素 → 肉桂色
- **显隐性关系**：B > b > b'

## 🎮 游戏中的实现

### 基因类型与概率

| 基因型 | 显示名称 | 真实遗传学含义 | 游戏概率 | 真实概率 |
|--------|----------|---------------|---------|---------|
| **黑色(B)** | 黑色基因 | B等位基因（显性） | 60% | ~75% |
| **橙色(O)** | 橙色基因 | O等位基因（性连锁） | 30% | ~20% |
| **巧克力色(b)** | 巧克力基因 | b等位基因（隐性） | 8% | ~4% |
| **肉桂色(b')** | 肉桂基因 | b'等位基因（更隐性） | 2% | ~1% |

### 基因组合规则

#### 1. 单一基因表达
- **公猫**（XY）：只有一条X染色体
  - X^O Y = 橙色公猫
  - X^o Y = 非橙色公猫（显示B系基因颜色）

#### 2. 双基因表达
- **母猫**（XX）：有两条X染色体
  - X^O X^O = 纯橙色母猫
  - X^o X^o = 纯非橙色母猫（显示B系基因颜色）
  - X^O X^o = 玳瑁母猫（橙色与非橙色混合）

#### 3. 特殊情况：XXY公猫
- **克氏综合征**：极少见的染色体异常
- 游戏中设定为万分之一概率
- XXY公猫可以像母猫一样表现玳瑁色

## 🎨 颜色表现规则

### 基础颜色决定

1. **当有O基因时**：
   - 覆盖B系基因，显示橙色/红色
   
2. **当无O基因时**：
   - 显示B系基因决定的颜色：
     - BB或Bb → 黑色
     - bb → 巧克力色
     - b'b' → 肉桂色

### 玳瑁与三花

1. **玳瑁（Tortoiseshell）**：
   - 条件：X^O X^o（一个O基因，一个非O基因）
   - 表现：橙色与B系颜色混合的斑块
   - 类型：
     - 黑玳瑁：橙色 + 黑色
     - 巧克力玳瑁：橙色 + 巧克力色
     - 肉桂玳瑁：橙色 + 肉桂色

2. **三花（Calico）**：
   - 条件：玳瑁 + 白色基因
   - 表现：橙色、B系颜色、白色三色混合
   - 本质：带白色的玳瑁猫

## 🧪 稀释基因（D基因）

游戏中的"稀释程度"对应真实的D基因：

| 原色 | 稀释后 | 基因型 |
|------|--------|--------|
| 黑色 | 蓝灰色 | B-dd |
| 巧克力色 | 丁香色 | bbdd |
| 肉桂色 | 浅黄褐色 | b'b'dd |
| 橙色 | 奶油色 | O-dd |

- **D（显性）** = 正常颜色密度
- **d（隐性）** = 颜色稀释

游戏中使用0-100%的滑块来模拟不同程度的稀释效果。

## 🔬 基因互作规则

### 1. 上位效应（Epistasis）
- O基因对B系基因有上位效应
- 当O基因存在时，B系基因的颜色被掩盖
- 只在玳瑁猫的非橙色斑块中才能看到B系颜色

### 2. 共显性（Codominance）
- 在X^O X^o的母猫中，两个等位基因都表达
- 形成橙色和非橙色的镶嵌图案（玳瑁）
- 这是X染色体随机失活的结果

### 3. 完全显性（Complete Dominance）
- B > b > b'的显隐性关系
- 只有纯合隐性才表现隐性性状

## 📊 真实世界统计

### 颜色分布（大致）
- 黑色系（包括虎斑）：~40%
- 橙色系：~20%
- 玳瑁/三花：~10%（几乎都是母猫）
- 白色：~5%
- 其他稀有色：~25%

### 性别与颜色关联
- **橙色猫**：80%是公猫（因为公猫只需一个O基因）
- **玳瑁猫**：99.9%是母猫（公猫需要XXY才能是玳瑁）
- **三花猫**：99.9%是母猫（同玳瑁）

## 🎮 游戏简化

为了游戏性，我们做了以下简化：

1. **基因独立选择**：
   - 真实中B基因型需要考虑父母双方
   - 游戏中简化为直接随机选择表现型

2. **连续稀释**：
   - 真实中D基因是二元的（D或d）
   - 游戏中用0-100%滑块提供更多变化

3. **确定性表达**：
   - 真实中有随机性（如玳瑁斑块分布）
   - 游戏中可以精确控制

## 📖 延伸阅读

### 其他重要基因（未来可能加入）

1. **A基因（Agouti）**：控制虎斑纹
   - A = 虎斑
   - a = 纯色

2. **W基因（White）**：控制白色
   - W = 全白（显性白）
   - w = 有色

3. **S基因（Spotting）**：控制白斑
   - S = 有白斑
   - s = 无白斑

4. **C基因（Color）**：控制重点色
   - C = 全色
   - cs = 暹罗重点色
   - cb = 缅甸重点色

---

## 🧬 总结

本游戏忠实还原了猫咪遗传学的核心原理：
- **O基因**的性连锁遗传
- **B基因**的等位基因系列
- **玳瑁/三花**的形成机制
- **基因互作**的复杂性

通过游戏，玩家可以直观地理解这些遗传学概念，同时享受创造独特猫咪的乐趣！

---

*参考资料：*
- *Robinson's Genetics for Cat Breeders and Veterinarians*
- *The Cat Fanciers' Association (CFA) Color Genetics*
- *Lyons LA. (2012) Genetic testing in domestic cats*